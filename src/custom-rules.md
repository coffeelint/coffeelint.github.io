
By convention rule authors add the keyword `coffeelintrule` to their "package.json", so custom rules can be found easily. Click [here](https://npmjs.com/search?q=coffeelintrule) to list all currently available custom rules on npm.

For example, maybe you want to get a warning if you don't have a newline at the end of your files. We'll imagine you globally installed the package [coffeelint-newline-eof](https://npmjs.com/package/coffeelint-newline-at-eof).

```json
{
    "newline_at_eof": {
        "module": "coffeelint-newline-at-eof",
        "level": "warn"
    }
}
```

Now every time you run CoffeeLint it will load that rule and override it's default level to `warn`.

CoffeeLint has three types of linters that run. In no particular order they are:

- LineLinter (processes one line at a time, usually with regular expressions);
- TokenLinter (processes the token stream generated by CoffeeScript);
- ASTLinter (processes the Abstract Syntax Tree).

Rules may be loaded using `--rules` from the CLI, or `coffeelint.registerRule()` from the API.

Rules do not have to be written in CoffeeScript. A new instance of each rule is constructed for each file, so the RuleConstructor must be a constructor function that generates a new clean instance of your rule when the new operator is used.

Your rule instance must have a `rule` attribute with it's default configuration. The `name`, `level` and `message` are all required. The `level` must be one of `ignore`, `warn`, or `error`. Once you have a valid rule configuration CoffeeLint requires you to implement one function depending on which type of linter your rule needs.

- `lintLine(line, lineApi)`
- `lintToken(token, tokenApi)`
- `lintAST(ast, astApi)`

The second parameter of each is an object with helper functions. It's best to just check the source or look at how other plugins are using those.

If your function returns true it will generate an error. If you need to override how the error is generated, maybe providing a context attribute, you can return an object that will get mixed into the generated error. The [no_plusplus](https://github.com/coffeelint/coffeelint/blob/master/src/rules/no_plusplus.coffee) rule is a simple example of this.

The core rules have been rewritten as stand alone rules both to prove the system and provide examples of how to write rules. To get started [no_plusplus](https://github.com/coffeelint/coffeelint/blob/master/src/rules/no_plusplus.coffee) is a Token rule, [no_tabs](https://github.com/coffeelint/coffeelint/blob/master/src/rules/no_tabs.coffee) is a Line rule, and [cyclomatic_complexity](https://github.com/coffeelint/coffeelint/blob/master/src/rules/cyclomatic_complexity.coffee) is an AST rule.

The `--rules` option will load every ".js" or ".coffee" file it finds and assume they export the `RuleConstructor`. Since the browser doesn't have a standard export system it's up to you to determine how you'll load your plugin and register it with `coffeelint.registerRule`.

More information about building custom rules [here](https://github.com/coffeelint/coffeelint/blob/master/doc/3rd_party_rules.md).
